name: silverflow
description: This is my personal OS image (based on silverblue-nvidia from uBlue OS)
base-image: ghcr.io/ublue-os/silverblue-nvidia
image-version: 38

modules:
  - type: files
    files:
      - usr:
          /usr
          # copy static configurations
          #
          # copies config/files/usr into your image's /usr
          #
          # configuration you wish to end up in /etc/ on the booted system
          # should be added into /usr/etc/ as that is the proper "distro"
          # config directory on ostree. Read more in the files module's README

  - type: rpm-ostree
    repos:
      - https://download.opensuse.org/repositories/hardware:/razer/Fedora_%OS_VERSION%/hardware:razer.repo
    install:
      - polychromatic
      - openrazer-meta
    remove:
      - firefox
      - firefox-langpacks
      - gnome-software
      - gnome-software-rpm-ostree
      - gnome-tour

  - type: bling
    install:
      - fonts
      - dconf-update-service # a service unit that updates the dconf db on boot

  - type: systemd
    system:
      disabled:
        - flatpak-system-update.timer
        - rpm-ostreed-automatic.timer
    user:
      disabled:
        - flatpak-user-update.timer

  - type: script
    scripts:
      - signing.sh
